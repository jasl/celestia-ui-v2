/* app.css */

@import "tailwindcss";

@theme {
  --font-sans: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont,
    "Segoe UI", Roboto, "Helvetica Neue", Arial,
    "Noto Sans", "Liberation Sans",
    "PingFang SC", "Microsoft YaHei UI", "Microsoft YaHei", "Noto Sans CJK SC", "Noto Sans SC",
    "Hiragino Sans", "Hiragino Kaku Gothic ProN", "Yu Gothic UI", "Yu Gothic", "Meiryo", "Noto Sans CJK JP", "Noto Sans JP",
    "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif;
}

@plugin "daisyui";

@plugin "@iconify/tailwind4" {
  prefixes: lucide;
}

@plugin "tailwindcss-motion";

/* Dark theme: Celestia Tavern Night */
@plugin "daisyui/theme" {
  name: "celestia-night";
  default: false;
  prefersdark: true;
  color-scheme: dark;

  --color-base-100: oklch(16% 0.06 294.42); /* #100723 */
  --color-base-200: oklch(20% 0.07 294.59); /* #180c30 */
  --color-base-300: oklch(24% 0.08 298.25); /* #24123f */
  --color-base-content: oklch(97% 0.02 302.56); /* #f8f4ff */

  --color-primary: oklch(76% 0.23 324.45); /* #f472ff */
  --color-primary-content: oklch(17% 0.07 314.12); /* #1b0425 */

  --color-secondary: oklch(85% 0.14 211.13); /* #3be4ff */
  --color-secondary-content: oklch(16% 0.03 231.89); /* #021018 */

  --color-accent: oklch(83% 0.12 66.88); /* #ffb86b */
  --color-accent-content: oklch(21% 0.03 44.41); /* #24120a */

  --color-neutral: oklch(23% 0.06 293.08); /* #1e1635 */
  --color-neutral-content: oklch(91% 0.05 297.39); /* #e3d9ff */

  --color-info: oklch(71% 0.14 254.62); /* #60a5fa */
  --color-info-content: oklch(13% 0.04 264.70); /* #020617 */

  --color-success: oklch(80% 0.18 151.71); /* #4ade80 */
  --color-success-content: oklch(26% 0.05 172.55); /* #022c22 */

  --color-warning: oklch(84% 0.16 84.43); /* #fbbf24 */
  --color-warning-content: oklch(18% 0.03 97.48); /* #161202 */

  --color-error: oklch(72% 0.17 13.43); /* #fb7185 */
  --color-error-content: oklch(16% 0.04 4.08); /* #19060b */

  --radius-selector: 2rem;
  --radius-field: 2rem;
  --radius-box: 2rem;
  --size-selector: 0.25rem;
  --size-field: 0.25rem;
  --border: 1px;
  
  --depth: 1;
  --noise: 1;
}

/* Light theme: Celestia Dawn */
@plugin "daisyui/theme" {
  name: "celestia-dawn";
  default: true;       /* Use light as default */
  prefersdark: false;
  color-scheme: light;

  --color-base-100: oklch(97% 0.01 277.07); /* #f3f5ff */
  --color-base-200: oklch(94% 0.03 261.48); /* #e1ecff */
  --color-base-300: oklch(88% 0.06 274.61); /* #cbd5ff */
  --color-base-content: oklch(28% 0.03 256.85); /* #1f2937 */

  --color-primary: oklch(66% 0.25 310.13); /* #c056ff */
  --color-primary-content: oklch(98% 0.01 317.74); /* #fdf7ff */

  --color-secondary: oklch(77% 0.15 229.34); /* #22c5ff */
  --color-secondary-content: oklch(18% 0.03 218.48); /* #04151a */

  --color-accent: oklch(79% 0.13 48.50); /* #ff9f6b */
  --color-accent-content: oklch(20% 0.06 35.90); /* #2b0b04 */

  --color-neutral: oklch(21% 0.03 264.66); /* #111827 */
  --color-neutral-content: oklch(98% 0.00 247.84); /* #f9fafb */

  --color-info: oklch(55% 0.22 262.88); /* #2563eb */
  --color-info-content: oklch(97% 0.01 254.60); /* #eff6ff */

  --color-success: oklch(63% 0.17 149.21); /* #16a34a */
  --color-success-content: oklch(98% 0.02 160.24); /* #ecfdf3 */

  --color-warning: oklch(77% 0.16 70.08); /* #f59e0b */
  --color-warning-content: oklch(20% 0.04 76.45); /* #1f1302 */

  --color-error: oklch(59% 0.22 17.58); /* #e11d48 */
  --color-error-content: oklch(97% 0.01 343.20); /* #fdf2f8 */

  --radius-selector: 2rem;
  --radius-field: 2rem;
  --radius-box: 2rem;
  --size-selector: 0.25rem;
  --size-field: 0.25rem;
  --border: 1px;

  --depth: 1;
  --noise: 1;
}

/* ===========================================
   CJK Typography Optimization
   Supports: Chinese (zh), Japanese (ja), English (en)
   =========================================== */

@layer base {
  html {
    @apply font-sans antialiased;
    text-rendering: optimizeLegibility;
  }

  /* Selection style */
  ::selection {
    @apply bg-primary/30;
  }

  /* Low-DPI screen optimization */
  @media (max-resolution: 1.5dppx) {
    html {
      @apply subpixel-antialiased;
    }
  }

  /* Pragmatic global CJK defaults:
     - Primary target: zh+en and ja+en mixed UIs
     - Goal: long tokens (URLs/model names) wrap instead of overflowing */
  :where(:lang(zh), :lang(ja)) {
    @apply wrap-break-word;
  }

  /* Slightly better underline spacing for CJK */
  :where(:lang(zh), :lang(ja)) a {
    text-underline-offset: 0.2em;
  }

  /* Chinese: looser line-breaking; optional autospace (Chromium) */
  :lang(zh) {
    line-break: loose;
  }
  @supports (text-autospace: ideograph-alpha) {
    :lang(zh) {
      text-autospace: ideograph-alpha ideograph-numeric;
    }
  }

  /* Japanese-specific text styles */
  :lang(ja) {
    line-break: strict;
    font-feature-settings: 'palt' 1, 'kern' 1;
  }

  /* Progressive enhancement: phrase-based line breaking (CSS Text L4, Chromium) */
  @supports (word-break: auto-phrase) {
    :lang(ja) {
      word-break: auto-phrase;
    }
  }

  /* English optimizations */
  :lang(en) {
    @apply hyphens-auto;
  }

  /* Ruby annotation support */
  ruby {
    ruby-align: space-between;
  }
  rt {
    font-size: 0.5em;
    font-weight: normal;
  }
}
